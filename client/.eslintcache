[{"C:\\Instagram\\client\\src\\index.js":"1","C:\\Instagram\\client\\src\\App.js":"2","C:\\Instagram\\client\\src\\reportWebVitals.js":"3","C:\\Instagram\\client\\src\\components\\navBar.jsx":"4","C:\\Instagram\\client\\src\\components\\home.jsx":"5","C:\\Instagram\\client\\src\\components\\loginForm.jsx":"6","C:\\Instagram\\client\\src\\components\\registerForm.jsx":"7","C:\\Instagram\\client\\src\\components\\profile.jsx":"8","C:\\Instagram\\client\\src\\components\\createPost.jsx":"9","C:\\Instagram\\client\\src\\services\\userService.js":"10","C:\\Instagram\\client\\src\\services\\authService.js":"11","C:\\Instagram\\client\\src\\services\\httpService.js":"12","C:\\Instagram\\client\\src\\services\\postService.js":"13","C:\\Instagram\\client\\src\\reducers\\userResducer.js":"14","C:\\Instagram\\client\\src\\components\\logout.jsx":"15"},{"size":593,"mtime":1607180904409,"results":"16","hashOfConfig":"17"},{"size":1816,"mtime":1607458664823,"results":"18","hashOfConfig":"17"},{"size":362,"mtime":499162500000,"results":"19","hashOfConfig":"17"},{"size":1290,"mtime":1607454271281,"results":"20","hashOfConfig":"17"},{"size":1134,"mtime":1607458214994,"results":"21","hashOfConfig":"17"},{"size":2677,"mtime":1607442678375,"results":"22","hashOfConfig":"17"},{"size":2864,"mtime":1607324164792,"results":"23","hashOfConfig":"17"},{"size":1750,"mtime":1607459263386,"results":"24","hashOfConfig":"17"},{"size":3082,"mtime":1607326728238,"results":"25","hashOfConfig":"17"},{"size":226,"mtime":1607184932244,"results":"26","hashOfConfig":"17"},{"size":974,"mtime":1607454378898,"results":"27","hashOfConfig":"17"},{"size":674,"mtime":1607250814087,"results":"28","hashOfConfig":"17"},{"size":864,"mtime":1607266167784,"results":"29","hashOfConfig":"17"},{"size":215,"mtime":1607456168386,"results":"30","hashOfConfig":"17"},{"size":556,"mtime":1607456635761,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"b1ajgf",{"filePath":"35","messages":"36","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"34"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"61"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Instagram\\client\\src\\index.js",[],["66","67"],"C:\\Instagram\\client\\src\\App.js",["68","69"],"C:\\Instagram\\client\\src\\reportWebVitals.js",[],"C:\\Instagram\\client\\src\\components\\navBar.jsx",["70"],"C:\\Instagram\\client\\src\\components\\home.jsx",[],"C:\\Instagram\\client\\src\\components\\loginForm.jsx",["71"],"C:\\Instagram\\client\\src\\components\\registerForm.jsx",[],"C:\\Instagram\\client\\src\\components\\profile.jsx",[],"C:\\Instagram\\client\\src\\components\\createPost.jsx",["72"],"import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport default function CreatePost() {\r\n  const history = useHistory();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const [url, setUrl] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (url) {\r\n      fetch(\"/createpost\", {\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"x-auth-token\": localStorage.getItem(\"token\"),\r\n        },\r\n        body: JSON.stringify({\r\n          title,\r\n          body,\r\n          img: url,\r\n        }),\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (data.error) {\r\n            toast.error(data.error);\r\n            //    M.toast({html: data.error,classes:\"#c62828 red darken-3\"})\r\n          } else {\r\n            //     M.toast({html:\"Created post Successfully\",classes:\"#43a047 green darken-1\"})\r\n            toast(\"Successfully Posted\");\r\n            history.push(\"/\");\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [url]);\r\n\r\n  const savePost = (data) => {\r\n    return fetch(\"https://api.cloudinary.com/v1_1/cloud098/image/upload\", {\r\n      method: \"post\",\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setUrl(data.url);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    const data = new FormData();\r\n    data.append(\"upload_preset\", \"insta-clone\");\r\n    data.append(\"file\", image);\r\n\r\n    data.append(\"cloud_name\", \"cloud098\");\r\n    console.log(data);\r\n    //const url=\"https://api.cloudinary.com/v1_1/cloud098/image/upload\";\r\n    try {\r\n      await savePost(data);\r\n    } catch (ex) {\r\n      if (ex.response && ex.response.status === 400) {\r\n        toast.error(ex.response.data);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"card home insidecard\">\r\n      <div className=\"input-field\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"title\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n      </div>\r\n      <div className=\"input-field \">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"body\"\r\n          value={body}\r\n          onChange={(e) => setBody(e.target.value)}\r\n        />\r\n      </div>\r\n      <div className=\"file-field input-field\">\r\n        <div className=\"btn  #42a5f5 blue lighten-1\">\r\n          <span>File</span>\r\n\r\n          <input type=\"file\" onChange={(e) => setImage(e.target.files[0])} />\r\n        </div>\r\n        <div className=\"file-path-wrapper\">\r\n          <input className=\"file-path validate\" type=\"text\" />\r\n        </div>\r\n      </div>\r\n      <button\r\n        onClick={handleSubmit}\r\n        className=\"waves-effect waves-light btn btn-block #42a5f5 blue lighten-1\"\r\n      >\r\n        Post\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","C:\\Instagram\\client\\src\\services\\userService.js",[],"C:\\Instagram\\client\\src\\services\\authService.js",[],"C:\\Instagram\\client\\src\\services\\httpService.js",[],"C:\\Instagram\\client\\src\\services\\postService.js",["73"],"import http from \"./httpService\";\r\n\r\nconst url = \"https://api.cloudinary.com/v1_1/cloud098/image/upload\";\r\n\r\n// const headers = {\r\n//   \"content-type\": \"multipart/form-data\",\r\n//   \"Access-Control-Allow-Headers\": \"*\",\r\n//   \"x-auth-token\": \"*\",\r\n// };\r\n// const headers = {\r\n//   \"Content-Type\": \"application/json\",\r\n//   \"x-auth-token\": \"\",\r\n// };\r\n// let axiosConfig = {\r\n//   headers: {\r\n//     \"Content-Type\": \"application/json;charset=UTF-8\",\r\n//     \"Access-Control-Allow-Origin\": \"*\",\r\n//   },\r\n// };\r\n// export function savePost(post) {\r\n//   return http.post(url, {\r\n//     body: post,\r\n//   });\r\n// }\r\n\r\nexport function savePost(data) {\r\n  return fetch(url, {\r\n    method: \"post\",\r\n    body: data,\r\n  })\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      console.log(data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n}\r\n",["74","75"],"C:\\Instagram\\client\\src\\reducers\\userResducer.js",[],"C:\\Instagram\\client\\src\\components\\logout.jsx",["76"],{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","replacedBy":"80"},{"ruleId":"81","severity":1,"message":"82","line":21,"column":11,"nodeType":"83","messageId":"84","endLine":21,"endColumn":16},{"ruleId":"85","severity":1,"message":"86","line":31,"column":6,"nodeType":"87","endLine":31,"endColumn":8,"suggestions":"88"},{"ruleId":"81","severity":1,"message":"89","line":6,"column":18,"nodeType":"83","messageId":"84","endLine":6,"endColumn":26},{"ruleId":"81","severity":1,"message":"82","line":10,"column":11,"nodeType":"83","messageId":"84","endLine":10,"endColumn":16},{"ruleId":"85","severity":1,"message":"90","line":41,"column":6,"nodeType":"87","endLine":41,"endColumn":11,"suggestions":"91"},{"ruleId":"81","severity":1,"message":"92","line":1,"column":8,"nodeType":"83","messageId":"84","endLine":1,"endColumn":12},{"ruleId":"77","replacedBy":"93"},{"ruleId":"79","replacedBy":"94"},{"ruleId":"81","severity":1,"message":"95","line":1,"column":8,"nodeType":"83","messageId":"84","endLine":1,"endColumn":13},"no-native-reassign",["96"],"no-negated-in-lhs",["97"],"no-unused-vars","'state' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch' and 'history'. Either include them or remove the dependency array.","ArrayExpression",["98"],"'dispatch' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'body', 'history', and 'title'. Either include them or remove the dependency array.",["99"],"'http' is defined but never used.",["96"],["97"],"'React' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"100","fix":"101"},{"desc":"102","fix":"103"},"Update the dependencies array to be: [dispatch, history]",{"range":"104","text":"105"},"Update the dependencies array to be: [body, history, title, url]",{"range":"106","text":"107"},[1095,1097],"[dispatch, history]",[1231,1236],"[body, history, title, url]"]