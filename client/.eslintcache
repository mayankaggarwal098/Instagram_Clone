[{"C:\\Instagram\\client\\src\\index.js":"1","C:\\Instagram\\client\\src\\App.js":"2","C:\\Instagram\\client\\src\\reportWebVitals.js":"3","C:\\Instagram\\client\\src\\components\\navBar.jsx":"4","C:\\Instagram\\client\\src\\components\\loginForm.jsx":"5","C:\\Instagram\\client\\src\\components\\registerForm.jsx":"6","C:\\Instagram\\client\\src\\components\\createPost.jsx":"7","C:\\Instagram\\client\\src\\services\\authService.js":"8","C:\\Instagram\\client\\src\\services\\httpService.js":"9","C:\\Instagram\\client\\src\\components\\logout.jsx":"10","C:\\Instagram\\client\\src\\components\\myProfile.jsx":"11","C:\\Instagram\\client\\src\\components\\userProfile.jsx":"12","C:\\Instagram\\client\\src\\reducers\\userReducer.js":"13","C:\\Instagram\\client\\src\\components\\loading.jsx":"14","C:\\Instagram\\client\\src\\components\\explore.jsx":"15","C:\\Instagram\\client\\src\\components\\home.jsx":"16","C:\\Instagram\\client\\src\\components\\resetPassword.jsx":"17","C:\\Instagram\\client\\src\\components\\updatePassword.jsx":"18","C:\\Instagram\\client\\src\\components\\commonHome.jsx":"19","C:\\Instagram\\client\\src\\components\\suggestions.jsx":"20"},{"size":637,"mtime":1607964638354,"results":"21","hashOfConfig":"22"},{"size":2304,"mtime":1608038022096,"results":"23","hashOfConfig":"22"},{"size":362,"mtime":499162500000,"results":"24","hashOfConfig":"22"},{"size":4558,"mtime":1608058738600,"results":"25","hashOfConfig":"22"},{"size":2735,"mtime":1608033985066,"results":"26","hashOfConfig":"22"},{"size":2689,"mtime":1623076201977,"results":"27","hashOfConfig":"22"},{"size":3442,"mtime":1623122698123,"results":"28","hashOfConfig":"22"},{"size":553,"mtime":1608030651835,"results":"29","hashOfConfig":"22"},{"size":523,"mtime":1608030701402,"results":"30","hashOfConfig":"22"},{"size":556,"mtime":1607695901898,"results":"31","hashOfConfig":"22"},{"size":6085,"mtime":1623123677848,"results":"32","hashOfConfig":"22"},{"size":4754,"mtime":1608037538832,"results":"33","hashOfConfig":"22"},{"size":629,"mtime":1608030232459,"results":"34","hashOfConfig":"22"},{"size":599,"mtime":1607716772645,"results":"35","hashOfConfig":"22"},{"size":190,"mtime":1607978018373,"results":"36","hashOfConfig":"22"},{"size":196,"mtime":1607978001624,"results":"37","hashOfConfig":"22"},{"size":1794,"mtime":1608033985066,"results":"38","hashOfConfig":"22"},{"size":1678,"mtime":1608030130681,"results":"39","hashOfConfig":"22"},{"size":8258,"mtime":1623125346974,"results":"40","hashOfConfig":"22"},{"size":1636,"mtime":1608059800351,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"b1ajgf",{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"44"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"44"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"67","messages":"68","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"44"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"C:\\Instagram\\client\\src\\index.js",[],["86","87"],"C:\\Instagram\\client\\src\\App.js",["88"],"import React, { useEffect, createContext, useReducer, useContext } from \"react\";\nimport \"./App.css\";\nimport NavBar from \"./components/navBar\";\nimport { Route, Switch, useHistory } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\nimport Explore from \"./components/explore\";\nimport LoginForm from \"./components/loginForm\";\nimport RegisterForm from \"./components/registerForm\";\nimport Profile from \"./components/myProfile\";\nimport CreatePost from \"./components/createPost\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { initialState, reducer } from \"./reducers/userReducer\";\nimport Logout from \"./components/logout\";\nimport UserProfile from \"./components/userProfile\";\nimport Home from \"./components/home\";\nimport ResetPassword from \"./components/resetPassword\";\nimport UpdatePassword from \"./components/updatePassword\";\n\nexport const UserContext = createContext();\n\nconst Routes = () => {\n  const history = useHistory();\n  const { dispatch } = useContext(UserContext);\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    if (user) {\n      dispatch({ type: \"USER\", payload: user });\n    } else if (\n      !history.location.pathname.startsWith(\"/reset\") &&\n      !history.location.pathname.startsWith(\"/signup\")\n    ) {\n      history.push(\"/login\");\n    }\n  }, []);\n  return (\n    <div>\n      <Switch>\n        <Route path=\"/user/:userId\" component={UserProfile} />\n        <Route path=\"/reset/:token\" component={UpdatePassword} />\n        <Route path=\"/reset\" component={ResetPassword} />\n        <Route path=\"/login\" component={LoginForm} />\n        <Route path=\"/logout\" component={Logout} />\n        <Route path=\"/signup\" component={RegisterForm} />\n        <Route path=\"/profile\" component={Profile} />\n        <Route path=\"/createpost\" component={CreatePost} />\n        <Route path=\"/explore\" component={Explore} />\n        <Route path=\"/\" component={Home} />\n      </Switch>\n    </div>\n  );\n};\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <React.Fragment>\n      <UserContext.Provider value={{ state, dispatch }}>\n        <ToastContainer autoClose={2000} />\n        <NavBar></NavBar>\n        <Routes />\n      </UserContext.Provider>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","C:\\Instagram\\client\\src\\reportWebVitals.js",[],"C:\\Instagram\\client\\src\\components\\navBar.jsx",[],"C:\\Instagram\\client\\src\\components\\loginForm.jsx",[],"C:\\Instagram\\client\\src\\components\\registerForm.jsx",[],"C:\\Instagram\\client\\src\\components\\createPost.jsx",["89"],"C:\\Instagram\\client\\src\\services\\authService.js",[],"C:\\Instagram\\client\\src\\services\\httpService.js",[],"C:\\Instagram\\client\\src\\components\\logout.jsx",["90"],"import React, { useEffect, useContext } from \"react\";\r\nimport auth from \"../services/authService\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"../App\";\r\n\r\nexport default function Logout() {\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    if (state) {\r\n      auth.logout();\r\n      dispatch({ type: \"DELETE\" });\r\n      toast(\"Successfully Logged Out\");\r\n    }\r\n    history.push(\"/login\");\r\n  });\r\n  return null;\r\n}\r\n","C:\\Instagram\\client\\src\\components\\myProfile.jsx",["91"],"C:\\Instagram\\client\\src\\components\\userProfile.jsx",["92"],"import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport http from \"../services/httpService\";\r\nimport { UserContext } from \"./../App\";\r\nimport { toast } from \"react-toastify\";\r\nimport Loading from \"./loading\";\r\n\r\nexport default function UserProfile() {\r\n  const { userId } = useParams();\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const [profile, setProfile] = useState(null);\r\n  //const user = JSON.parse(localStorage.getItem(\"user\"));\r\n  //console.log(state);\r\n  useEffect(() => {\r\n    async function getProfile() {\r\n      try {\r\n        const { data } = await http.get(`/user/${userId}`, {\r\n          headers: {\r\n            \"x-auth-token\": localStorage.getItem(\"token\"),\r\n          },\r\n        });\r\n        //console.log(data);\r\n        setProfile(data);\r\n      } catch (ex) {\r\n        if (ex.response && ex.response.status === 400) {\r\n          toast.error(ex.response.data);\r\n          console.log(ex);\r\n        }\r\n      }\r\n    }\r\n    getProfile();\r\n  }, []);\r\n\r\n  const followUser = async () => {\r\n    const { data } = await http.put(\r\n      \"/follow\",\r\n      { otherUserId: userId },\r\n      {\r\n        headers: {\r\n          \"x-auth-token\": localStorage.getItem(\"token\"),\r\n        },\r\n      }\r\n    );\r\n    // console.log(data);\r\n    dispatch({\r\n      type: \"UPDATE\",\r\n      payload: { following: data.following, followers: data.followers },\r\n    });\r\n    localStorage.setItem(\"user\", JSON.stringify(data));\r\n    setProfile((prevState) => {\r\n      return {\r\n        ...prevState,\r\n        user: {\r\n          ...prevState.user,\r\n          followers: [...prevState.user.followers, data._id],\r\n        },\r\n      };\r\n    });\r\n  };\r\n  const unfollowUser = async () => {\r\n    const { data } = await http.put(\r\n      \"/unfollow\",\r\n      { otherUserId: userId },\r\n      {\r\n        headers: {\r\n          \"x-auth-token\": localStorage.getItem(\"token\"),\r\n        },\r\n      }\r\n    );\r\n    // console.log(data);\r\n    dispatch({\r\n      type: \"UPDATE\",\r\n      payload: { following: data.following, followers: data.followers },\r\n    });\r\n    localStorage.setItem(\"user\", JSON.stringify(data));\r\n    setProfile((prevState) => {\r\n      const followers = prevState.user.followers.filter(\r\n        (id) => id !== data._id\r\n      );\r\n      return {\r\n        ...prevState,\r\n        user: {\r\n          ...prevState.user,\r\n          followers,\r\n        },\r\n      };\r\n    });\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {profile ? (\r\n        <div className=\"home\">\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              margin: \"20px 0px\",\r\n              justifyContent: \"space-around\",\r\n              borderBottom: \"1px solid grey\",\r\n            }}\r\n          >\r\n            <div>\r\n              <img\r\n                src={profile.user.profilePic}\r\n                alt=\"profile img\"\r\n                style={{\r\n                  width: \"150px\",\r\n                  height: \"150px\",\r\n                  borderRadius: \"75px\",\r\n                }}\r\n              />\r\n            </div>\r\n            <div>\r\n              <h4>\r\n                {profile.user.name}&nbsp;&nbsp;\r\n                {state && state.following.includes(userId) ? (\r\n                  <button\r\n                    onClick={unfollowUser}\r\n                    className=\"waves-effect waves-light btn-small #42a5f5 blue lighten-1\"\r\n                  >\r\n                    Unfollow\r\n                  </button>\r\n                ) : (\r\n                  <button\r\n                    onClick={followUser}\r\n                    className=\"waves-effect waves-light btn-small #42a5f5 blue lighten-1\"\r\n                  >\r\n                    follow\r\n                  </button>\r\n                )}\r\n              </h4>\r\n              <h5>{profile.user.email}</h5>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  margin: \"20px 0px\",\r\n                  justifyContent: \"space-between\",\r\n                  width: \"130%\",\r\n                }}\r\n              >\r\n                <h6>{profile.posts.length} posts</h6>\r\n                <h6>{profile.user.followers.length} followers</h6>\r\n                <h6>{profile.user.following.length} following</h6>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"mypost\">\r\n            {profile.posts.map((item) => {\r\n              return (\r\n                <img\r\n                  src={item.photo}\r\n                  alt={item.caption}\r\n                  key={item._id}\r\n                  className=\"mypic\"\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <Loading></Loading>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n","C:\\Instagram\\client\\src\\reducers\\userReducer.js",[],"C:\\Instagram\\client\\src\\components\\loading.jsx",[],"C:\\Instagram\\client\\src\\components\\explore.jsx",[],"C:\\Instagram\\client\\src\\components\\home.jsx",[],"C:\\Instagram\\client\\src\\components\\resetPassword.jsx",[],"C:\\Instagram\\client\\src\\components\\updatePassword.jsx",[],"C:\\Instagram\\client\\src\\components\\commonHome.jsx",["93"],"C:\\Instagram\\client\\src\\components\\suggestions.jsx",[],{"ruleId":"94","replacedBy":"95"},{"ruleId":"96","replacedBy":"97"},{"ruleId":"98","severity":1,"message":"99","line":35,"column":6,"nodeType":"100","endLine":35,"endColumn":8,"suggestions":"101"},{"ruleId":"98","severity":1,"message":"102","line":38,"column":6,"nodeType":"100","endLine":38,"endColumn":11,"suggestions":"103"},{"ruleId":"104","severity":1,"message":"105","line":1,"column":8,"nodeType":"106","messageId":"107","endLine":1,"endColumn":13},{"ruleId":"98","severity":1,"message":"108","line":57,"column":6,"nodeType":"100","endLine":57,"endColumn":20,"suggestions":"109"},{"ruleId":"98","severity":1,"message":"110","line":32,"column":6,"nodeType":"100","endLine":32,"endColumn":8,"suggestions":"111"},{"ruleId":"98","severity":1,"message":"112","line":26,"column":6,"nodeType":"100","endLine":26,"endColumn":8,"suggestions":"113"},"no-native-reassign",["114"],"no-negated-in-lhs",["115"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch' and 'history'. Either include them or remove the dependency array.","ArrayExpression",["116"],"React Hook useEffect has missing dependencies: 'caption' and 'history'. Either include them or remove the dependency array.",["117"],"no-unused-vars","'React' is defined but never used.","Identifier","unusedVar","React Hook useEffect has a missing dependency: 'saveProfileImage'. Either include it or remove the dependency array.",["118"],"React Hook useEffect has a missing dependency: 'userId'. Either include it or remove the dependency array.",["119"],"React Hook useEffect has a missing dependency: 'props.route'. Either include it or remove the dependency array.",["120"],"no-global-assign","no-unsafe-negation",{"desc":"121","fix":"122"},{"desc":"123","fix":"124"},{"desc":"125","fix":"126"},{"desc":"127","fix":"128"},{"desc":"129","fix":"130"},"Update the dependencies array to be: [dispatch, history]",{"range":"131","text":"132"},"Update the dependencies array to be: [caption, history, url]",{"range":"133","text":"134"},"Update the dependencies array to be: [profileImage, saveProfileImage]",{"range":"135","text":"136"},"Update the dependencies array to be: [userId]",{"range":"137","text":"138"},"Update the dependencies array to be: [props.route]",{"range":"139","text":"140"},[1325,1327],"[dispatch, history]",[1080,1085],"[caption, history, url]",[1653,1667],"[profileImage, saveProfileImage]",[1039,1041],"[userId]",[808,810],"[props.route]"]